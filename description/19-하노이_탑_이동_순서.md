# 하노이 탑 이동 순서

[백준 11729번](https://www.acmicpc.net/problem/11729)

***

## 문제

세 개의 장대가 있고 첫 번째 장대에는 반경이 서로 다른 n개의 원판이 쌓여 있다. 각 원판은 반경이 큰 순서대로 쌓여있다. 이제 수도승들이 다음 규칙에 따라 첫 번째 장대에서 세 번째 장대로 옮기려 한다.

1. 한 번에 한 개의 원판만을 다른 탑으로 옮길 수 있다.
2. 쌓아 놓은 원판은 항상 위의 것이 아래의 것보다 작아야 한다.

이 작업을 수행하는데 필요한 이동 순서를 출력하는 프로그램을 작성하라. 단, 이동 횟수는 최소가 되어야 한다.

***

## 풀이 과정

**원판이 한 개일 때**

출발 기둥 1 -> 도착 기둥 3 바로 이동

**원판이 두 개일 때**

제일 큰 원판을 도착 기둥으로 옮기려고 봤더니 위에 원판이 있어 바로 옮기지 못하는 상황, 따라서 제일 큰 원판 위에 위치한 원판들을 보조 기둥으로 옮겨야 함

원판들을 모두 보조 기둥으로 옮긴 후 제일 큰 원판을 목표 기둥으로 옮김, 큰 원판을 목표 기둥으로 옮긴 후 작은 원판을 목표 기둥으로 옮김

1번 원판 = 작은 원판, 2번 원판 = 큰 원판

1번 원판 : 출발 기둥 1 -> 보조 기둥 2

2번 원판 : 출발 기둥 1 -> 목표 기둥 3

1번 원판 : 보조 기둥 2 -> 목표 기둥 3

**원판이 세 개일 때**

동작을 하나씩 따라가보자

hanoi 라는 함수가 있고 hanoi 함수에 (탑의 개수, 출발 기둥, 목표 기둥, 보조 기둥) 이 세 가지를 정보를 제공

hanoi(3, 1, 3, 2) -> "세 번째 원판을 1번 기둥에서 3번 기둥으로 옮기는 데 위에 원판이 있다면 2번 기둥으로 옮겨라"라는 명령이라고 생각해봅시다.

3번 원판 위에 1번 원판, 2번 원판이 존재하므로 바로 명령을 수행할 수 없어 stack에 잠시 보관해둡니다.

|stack|
|:---:|
||
||
||
|hanoi(3, 1, 3, 2)|

3번 원판이 스택에 들어가면서 2번 원판에게 "2번 원판아 내가 3번 기둥으로 이동해야 되니 2번 기둥으로 잠깐 가있어 위에 원판이 있으면 걔는 3번 기둥으로 가있으라고 하고"라는 명령을 합니다.

hanoi(2, 1, 2, 3)

2번 원판 위에 1번 원판이 존재하므로 이 명령도 스택에 잠시 보관됩니다.

|stack|
|:---:|
||
||
|hanoi(2, 1, 2, 3)|
|hanoi(3, 1, 3, 2)|

이번엔 2번 원판이 1번 원판에게 "1번 원판아 내가 2번 기둥으로 가야되니까 3번 기둥으로 가있어 위에 원판이 있으면 2번 기둥으로 가있으라고 하고"라는 명령을 합니다.

즉 이 명령들을 코드로 나타내면 다음과 같습니다.

> hanoi(원판 번호, 초기 시작 기둥, 초기 보조 기둥, 초기 목표 기둥)

가장 큰 원판을 제외한 나머지 원판들은 모두 보조 기둥으로 옮겨야 하기 때문에 그 원판들은 모두 초기 보조 기둥이 목표 기둥으로 바뀌었습니다.

hanoi(1, 1, 3, 2)

1번 원판 위에는 원판이 없으므로 이 명령은 바로 수행됩니다.

1번 원판 : 1번 기둥 -> 3번 기둥

2번 원판도 위에 원판이 없으므로 명령을 수행합니다.

2번 원판 : 1번 기둥 -> 2번 기둥

3번 원판이 3번 기둥으로 이동하려고 봤더니 1번 원판이 3번 기둥에 있어 이동이 불가능한 상황입니다. 따라서 1번 기둥에게 "나 3번 기둥으로 이동해야 되니까 너 2번 기둥으로 이동해"라고 명령합니다.

hanoi(1, 3, 2, 1)

1번 원판 : 3번 기둥 -> 2번 기둥

3번 원판 : 1번 기둥 -> 3번 기둥

3번 원판이 목표 기둥으로 이동 완료했으니 2번과 1번 원판도 목표 기둥으로 이동해야 합니다.

이를 코드로 표현하면 다음과 같습니다.

> hanoi(원판 번호, 초기 보조 기둥, 초기 목표 기둥, 초기 시작 기둥)

즉 초기 보조 기둥이 현재 시작 기둥이 되었고, 초기 시작 기둥이 현재 보조 기둥이 되었습니다.


